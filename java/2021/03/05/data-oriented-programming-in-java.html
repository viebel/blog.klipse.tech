<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
        <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Data-Oriented programming in Java | Yehonathan Sharvit</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Data-Oriented programming in Java" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to apply the principles of Data-Oriented programming in Java. Simplify Object-Oriented design patterns. Static typing vs. Dynamic typing." />
<meta property="og:description" content="How to apply the principles of Data-Oriented programming in Java. Simplify Object-Oriented design patterns. Static typing vs. Dynamic typing." />
<meta property="og:site_name" content="Yehonathan Sharvit" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-05T04:03:52+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Data-Oriented programming in Java" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"url":"/java/2021/03/05/data-oriented-programming-in-java.html","headline":"Data-Oriented programming in Java","dateModified":"2021-03-05T04:03:52+00:00","datePublished":"2021-03-05T04:03:52+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/java/2021/03/05/data-oriented-programming-in-java.html"},"description":"How to apply the principles of Data-Oriented programming in Java. Simplify Object-Oriented design patterns. Static typing vs. Dynamic typing.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    

    <!-- Site Favicon -->
    <link rel="shortcut icon" href="/assets/favicon2.png" type="image/png" />

    <!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600,600i|Karla:400,400i,700,700i" rel="stylesheet">

    <!-- CSS Styles -->
    <link href="/assets/css/style.css" rel="stylesheet">
</head>



<body class="layout-post">
    <div id="page" class="site">
        <header id="masthead" class="site-header">
    <div class="site-header-wrap">
        <div class="site-header-inside">

            <div class="site-branding">
                
                <p class="profile">
                    <a href="/">
                        <img src="/assets/images/authorimage.jpg" alt="'s Picture"
                            class="avatar" />
                    </a>
                </p>
                <div class="site-identity">
                    
                    <h1 class="site-title">
                        <a href="/">Yehonathan Sharvit</a>
                    </h1>
                    
                    
                    <p class="site-description">Developer. Author. Speaker.</p>
                    
                </div><!-- .site-identity -->
                
                <button id="menu-toggle" class="menu-toggle"><span class="screen-reader-text">Main Menu</span><span
                        class="icon-menu" aria-hidden="true"></span></button>
            </div><!-- .site-branding -->

            <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
                <div class="site-nav-wrap">
                    <div class="site-nav-inside">
                    <ul class="menu">
                        
                        
                        
                        <li class="menu-item "><a href="/">Blog</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/talks">Talks</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/about">About</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/contact">Contact</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/search">Search</a></li>
                        
                    </ul>
                    <p class="social-links">
    <a class="github-button" href="https://github.com/viebel/klipse" data-color-scheme="no-preference: dark; light: dark; dark: dark;" data-show-count="true" aria-label="Star viebel/klipse on GitHub"></a>
<script async defer src="https://buttons.github.io/buttons.js"></script>

    
    <a href="https://twitter.com/viebel" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    
    
    
    
    
    
    
    <a href="https://www.linkedin.com/in/viebel" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    
</p>

                    <div class="book-header">
  <div>
    Discover my book!
  </div>
  <a href="https://www.manning.com/books/data-oriented-programming?utm_source=viebel&utm_medium=affiliate&utm_campaign=book_sharvit2_data_1_29_21&a_aid=viebel&a_bid=d5b546b7" style="text-decoration: none;">
    <img src="/assets/dop-book.png">
  </a>
  <div>
    DISCOUNT CODE: sharvit39
  </div>
</div>

                    </div><!-- .site-nav-inside -->
                </div><!-- .site-nav-wrap -->
            </nav><!-- .site-navigation -->

        </div><!-- .site-header-inside -->
    </div><!-- .site-header-wrap -->
</header><!-- .site-header -->

        <div id="content" class="site-content fadeInDown delay_075s">
            <div class="inner-wide">
                <main id="main" class="site-main">

    <article class="post-full inner">

        <header class="post-header">
            <h1 class="post-title">Data-Oriented programming in Java</h1>
            <span class="post-meta">
              <time class="post-date" datetime="2021-03-05">
                March 5, 2021
              </time>
            </span>
            
            <span class="post-tags">
                <a href="/tags/index.html#dop"
                    rel="tag">dop</a>
                <a href="/tags/index.html#java"
                    rel="tag">java</a>
                
            </span>
            
        </header><!-- .post-header -->

        <div class="post-content">
            <h1 id="the-principles-of-data-oriented-programming">The principles of Data-Oriented programming</h1>

<p>The purpose of Data-Oriented programming (DOP) is to <strong>reduce the complexity</strong> of software systems, by promoting the treatment of data as a first-class citizen.</p>

<p>Concretely, it comes down to the application of 3 principles:</p>

<ol>
  <li>Code is <strong>separated</strong> from data</li>
  <li>Data is <strong>immutable</strong></li>
  <li>Data access is <strong>flexible</strong></li>
</ol>

<p>Those principles are not new: They have been adopted in one way or another by the Java community over the years through various design patterns (e.g. <a href="https://en.wikipedia.org/wiki/Entity_component_system">Entity component system</a>) and smart libraries that leverage Java annotations (e.g. Project Lombok).</p>

<p>However, I believe that the combination of those 3 principles makes <strong>a whole that is greater that the sum of its parts</strong>, in the sense that software systems built on top of DOP principles tend to be less complex. In my book <a href="https://www.manning.com/books/data-oriented-programming?utm_source=viebel&amp;utm_medium=affiliate&amp;utm_campaign=book_sharvit2_data_1_29_21&amp;a_aid=viebel&amp;a_bid=d5b546b7">Data-Oriented programming</a>, I am exploring in greater details how to apply the principles of DOP in the context of a <strong>production software system</strong>.</p>

<p>In the present article, I am going to illustrate how to apply the principles of DOP in Java.</p>

<p><img src="/assets/dop-in-java.png" alt="Data-Oriented Programming in Java" /></p>

<h1 id="separating-code-from-data-in-java">Separating code from data in Java</h1>

<p>Suppose we want to build a library management system with the following requirements:</p>

<ul>
  <li>Two kinds of <em>users</em>: library members and librarians</li>
  <li>Users <em>log in</em> to the system via email and password.</li>
  <li>Members can <em>borrow</em> books</li>
  <li>Members and librarians can <em>search</em> books by title or by author</li>
  <li>Librarians can <em>block</em> and <em>unblock</em> members (e.g. when they are late in returning a book)</li>
  <li>Librarians can <em>list the books</em> currently lent by a member</li>
  <li>There could be <em>several copies</em> of a book</li>
</ul>

<p>A possible (naive) classic Java design for such a system would be made of the following classes:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Library</code>: The central part for which the system is designed</li>
  <li><code class="language-plaintext highlighter-rouge">Book</code>: A book</li>
  <li><code class="language-plaintext highlighter-rouge">BookItem</code>: A book can have multiple copies, each copy is considered as a book item</li>
  <li><code class="language-plaintext highlighter-rouge">BookLending</code>: When a book is lent, a book lending object is created</li>
  <li><code class="language-plaintext highlighter-rouge">Member</code>: A member of the library</li>
  <li><code class="language-plaintext highlighter-rouge">Librarian</code>: A librarian</li>
  <li><code class="language-plaintext highlighter-rouge">User</code>: A base class for <code class="language-plaintext highlighter-rouge">Librarian</code> and <code class="language-plaintext highlighter-rouge">Member</code></li>
  <li><code class="language-plaintext highlighter-rouge">Catalog</code>: Contains list of books</li>
  <li><code class="language-plaintext highlighter-rouge">Author</code>: A book author</li>
</ul>

<p>A possible class diagram (eluding the details about members and methods) would be something like this:</p>

<p><img src="/assets/lms-uml-diagram.png" alt="Library management class diagram" /></p>

<p>Of course, a Java expert would probably comes up with a smarter design, leveraging some smart <strong>design patterns</strong>.</p>

<p>Now, I’d like to illustrate how the application of DOP Principle #1 naturally leads to a simpler design, without involving any design patterns. We are going to split each class of our system in two classes:</p>

<ol>
  <li>A code class with <strong>static methods</strong> only</li>
  <li>A data class with <strong>members</strong> only</li>
</ol>

<p>The result is a diagram made of two disjoint diagrams:</p>
<ol>
  <li>Data classes on the left</li>
  <li>Code classes on the right</li>
</ol>

<p><img src="/assets/lms-separate-code-from-data.png" alt="Separating code from data" /></p>

<p>Don’t you agree that the resulting diagram is less complex than the previous one?</p>

<p>The cool think is that applying Principle #1 doesn’t require being a Java expert. Of course, the combination of smart design patterns and DOP Principle #1 would lead to an even better design.</p>

<h1 id="how-to-represent-immutable-data-in-java">How to represent immutable data in Java</h1>

<p>The benefits of applying DOP Principle #2 about <strong>data immutability</strong> in Java have been widely discussed. Basically, it comes down to:</p>

<ul>
  <li>Thread safety</li>
  <li>Absence of hidden side-effects</li>
  <li>Ease of caching</li>
  <li>Prevention of identity mutation</li>
</ul>

<p>The interesting question is: How do we represent immutable data in Java. There are mainly, three approaches:</p>

<ol>
  <li>Immutable classes (boilerplate code avoided via Java annotations)</li>
  <li>Data records (available since Java 14)</li>
  <li>Persistent hash maps</li>
</ol>

<h2 id="representing-data-with-immutable-classes">Representing data with immutable classes</h2>

<p>Immutable classes, have no methods and the members cannot be modified.</p>

<p>Writing manually for each immutable class of our system the appropriate constructors, getters, <code class="language-plaintext highlighter-rouge">equals()</code>, <code class="language-plaintext highlighter-rouge">hashCode()</code> and <code class="language-plaintext highlighter-rouge">toString()</code> involves lot of boilerplate code. We could avoid the boilerplate code using a Java annotation like <code class="language-plaintext highlighter-rouge">@value</code> annotation from <a href="https://projectlombok.org/features/Value">Project Lombok</a>.</p>

<p>Here is how we could represent the catalog data of our library management system using <code class="language-plaintext highlighter-rouge">@value</code> annotation:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@value</span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">AuthorData</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">bookIds</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@value</span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">BookData</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">title</span><span class="o">;</span>
    <span class="nc">String</span> <span class="n">isbn</span><span class="o">;</span>
    <span class="nc">Integer</span> <span class="n">publicationYear</span><span class="o">;</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">authorIds</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@value</span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">CatalogData</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">items</span><span class="o">;</span> 
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">BookData</span><span class="o">&gt;</span> <span class="n">booksByIsbn</span><span class="o">;</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">AuthorData</span><span class="o">&gt;</span> <span class="n">authorByIds</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>As an example, here is how we would instantiate data of a catalog with a single book: Watchmen.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">watchmen</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BookData</span><span class="o">(</span><span class="s">"Watchmen"</span><span class="o">,</span>
                            <span class="s">"978-1779501127"</span><span class="o">,</span>
                            <span class="mi">1987</span><span class="o">,</span>
                            <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="s">"dave-gibbons"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">alanM</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AuthorData</span><span class="o">(</span><span class="s">"Alan Moore"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">));</span>
<span class="kt">var</span> <span class="n">daveG</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AuthorData</span><span class="o">(</span><span class="s">"Dave Gibbons"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">booksByIsbn</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">,</span> <span class="n">watchmen</span><span class="o">);</span>

<span class="kt">var</span> <span class="n">authorsById</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="n">alanM</span><span class="o">,</span>
                         <span class="s">"dave-gibbons"</span><span class="o">,</span> <span class="n">daveG</span><span class="o">);</span>

<span class="kt">var</span> <span class="n">catalog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CatalogData</span><span class="o">(</span><span class="s">"books"</span><span class="o">,</span> <span class="n">booksByIsbn</span><span class="o">,</span> <span class="n">authorsById</span><span class="o">);</span>
</code></pre></div></div>

<p>And we display in upper case the id of the first author of Watchmen like this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">catalog</span><span class="o">.</span><span class="na">booksByIsbn</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">)</span>
<span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">toUpperCase</span><span class="o">();</span> <span class="c1">// "ALAN-MOORE"</span>
</code></pre></div></div>

<h2 id="representing-data-with-records">Representing data with records</h2>

<p>Java language maintainers acknowledge the need to provide immutable data representation at the language level. Java 14 introduced the concept of a record that provides a first-class means for modelling data-only aggregates.</p>

<p>Here is how our data model would look like with records:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">record</span> <span class="nf">AuthorData</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span>
                          <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">bookIds</span><span class="o">)</span> <span class="o">{}</span>

<span class="kd">public</span> <span class="n">record</span> <span class="nf">BookData</span> <span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">,</span>
                        <span class="nc">String</span> <span class="n">isbn</span><span class="o">,</span>
                        <span class="nc">Integer</span> <span class="n">publicationYear</span><span class="o">,</span>
                        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">authorIds</span><span class="o">)</span> <span class="o">{}</span>

<span class="kd">public</span> <span class="n">record</span> <span class="nf">CatalogData</span> <span class="o">(</span><span class="nc">String</span> <span class="n">items</span><span class="o">,</span> 
                           <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">BookData</span><span class="o">&gt;</span> <span class="n">booksByIsbn</span><span class="o">,</span>
                           <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">AuthorData</span><span class="o">&gt;</span> <span class="n">authorByIds</span><span class="o">)</span> <span class="o">{}</span>

</code></pre></div></div>

<p>Records are instantiated like immutable classes:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">watchmen</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BookData</span><span class="o">(</span><span class="s">"Watchmen"</span><span class="o">,</span>
                            <span class="s">"978-1779501127"</span><span class="o">,</span>
                            <span class="mi">1987</span><span class="o">,</span>
                            <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="s">"dave-gibbons"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">alanM</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AuthorData</span><span class="o">(</span><span class="s">"Alan Moore"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">));</span>
<span class="kt">var</span> <span class="n">daveG</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AuthorData</span><span class="o">(</span><span class="s">"Dave Gibbons"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">booksByIsbn</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">,</span> <span class="n">watchmen</span><span class="o">);</span>

<span class="kt">var</span> <span class="n">authorsById</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="n">alanM</span><span class="o">,</span>
                         <span class="s">"dave-gibbons"</span><span class="o">,</span> <span class="n">daveG</span><span class="o">);</span>

<span class="kt">var</span> <span class="n">catalog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CatalogData</span><span class="o">(</span><span class="s">"books"</span><span class="o">,</span> <span class="n">booksByIsbn</span><span class="o">,</span> <span class="n">authorsById</span><span class="o">);</span>
</code></pre></div></div>

<p>And we display in upper case the id of the first author of Watchmen like this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">catalog</span><span class="o">.</span><span class="na">booksByIsbn</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">)</span>
<span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">toUpperCase</span><span class="o">();</span> <span class="c1">// "ALAN-MOORE"</span>
</code></pre></div></div>

<p>Read more about Java records in this <a href="https://blogs.oracle.com/javamagazine/records-come-to-java">article</a>.</p>

<h2 id="persistent-string-maps">Persistent string maps</h2>

<p>Now comes the esoteric part that might cause you to feel uncomfortable as a Java developer.</p>

<p>Instead of representing data with a layout that is statically defined in our code base, we could represent data with hash maps without specifying data layout at all.</p>

<p>The advantage of this approach is that it makes data access and data manipulation flexible. Of course, it has to trade off <strong>flexibility</strong> for <strong>type safety</strong>. My purpose here is not to convince you that this is the way you should represent data in Java. My humble purpose is to suggest that a <strong>dynamic approach</strong> to data is applicable in Java. Hopefully, it will motivate Java experts to explore if it makes sense to promote the dynamic data approach in Java.</p>

<p>Let’s see first how we could instantiate our catalog data using native Java immutable string maps and lists:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">watchmen</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"title"</span><span class="o">,</span> <span class="s">"Watchmen"</span><span class="o">,</span>
                      <span class="s">"isbn"</span><span class="o">,</span> <span class="s">"978-1779501127"</span><span class="o">,</span>
                      <span class="s">"publicationYear"</span><span class="o">,</span><span class="mi">1987</span><span class="o">,</span>
                      <span class="s">"authorIds"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="s">"dave-gibbons"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">alanM</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Alan Moore"</span><span class="o">,</span>
                      <span class="s">"bookIds"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">daveG</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Dave Gibbons"</span><span class="o">,</span>
                         <span class="s">"bookIds"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">booksByIsbn</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">,</span> <span class="n">watchmen</span><span class="o">);</span>

<span class="kt">var</span> <span class="n">authorsById</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="n">alanM</span><span class="o">,</span>
                         <span class="s">"dave-gibbons"</span><span class="o">,</span> <span class="n">daveG</span><span class="o">);</span>

<span class="kt">var</span> <span class="n">catalog</span> <span class="o">=</span> <span class="nc">Map</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"items"</span><span class="o">,</span> <span class="s">"book"</span><span class="o">,</span>
                     <span class="s">"booksByIsbn"</span><span class="o">,</span> <span class="n">booksByIsbn</span><span class="o">,</span>
                     <span class="s">"authorsById"</span><span class="o">,</span> <span class="n">authorsById</span><span class="o">);</span>
</code></pre></div></div>

<p>The limitation of Java immutable maps is that we cannot update them efficiently. Creating a new version of the catalog data (e.g. updating the publication year of a book) would require to copy the whole map. Fortunately, there is this computer science thing called <strong>persistent data structures</strong> that makes it possible to update immutable data structures <strong>efficiently</strong> both in terms of memory and computation.</p>

<p>There is a Java library named <a href="https://github.com/GlenKPeterson/Paguro">Paguro</a> that provides efficient persistent data structures in Java.</p>

<p>Instantiating our catalog with Paguro is a bit more verbose as we have to wrap key-values pairs in maps with tuples:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">watchmen</span> <span class="o">=</span> <span class="n">map</span><span class="o">(</span><span class="n">tup</span><span class="o">(</span><span class="s">"title"</span><span class="o">,</span> <span class="s">"Watchmen"</span><span class="o">),</span>
                   <span class="n">tup</span><span class="o">(</span><span class="s">"isbn"</span><span class="o">,</span> <span class="s">"978-1779501127"</span><span class="o">),</span>
                   <span class="n">tup</span><span class="o">(</span><span class="s">"publicationYear"</span><span class="o">,</span> <span class="mi">1987</span><span class="o">),</span>
                   <span class="n">tup</span><span class="o">(</span><span class="s">"authorIds"</span><span class="o">,</span> <span class="n">vec</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="s">"dave-gibbons"</span><span class="o">)));</span>

<span class="kt">var</span> <span class="n">alanM</span> <span class="o">=</span> <span class="n">map</span><span class="o">(</span><span class="n">tup</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Alan Moore"</span><span class="o">),</span>
                    <span class="n">tup</span><span class="o">(</span><span class="s">"bookIds"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">)));</span>

<span class="kt">var</span> <span class="n">daveG</span> <span class="o">=</span> <span class="n">map</span><span class="o">(</span><span class="n">tup</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"Dave Gibbons"</span><span class="o">),</span>
                      <span class="n">tup</span><span class="o">(</span><span class="s">"bookIds"</span><span class="o">,</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">)));</span>

<span class="kt">var</span> <span class="n">booksByIsbn</span> <span class="o">=</span> <span class="n">map</span><span class="o">(</span><span class="n">tup</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">,</span> <span class="n">watchmen</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">authorsById</span> <span class="o">=</span> <span class="n">map</span><span class="o">(</span><span class="n">tup</span><span class="o">(</span><span class="s">"alan-moore"</span><span class="o">,</span> <span class="n">alanM</span><span class="o">),</span>
                      <span class="n">tup</span><span class="o">(</span><span class="s">"dave-gibbons"</span><span class="o">,</span> <span class="n">daveG</span><span class="o">));</span>

<span class="kt">var</span> <span class="n">catalog</span> <span class="o">=</span> <span class="n">map</span><span class="o">(</span><span class="n">tup</span><span class="o">(</span><span class="s">"items"</span><span class="o">,</span> <span class="s">"book"</span><span class="o">),</span>
                  <span class="n">tup</span><span class="o">(</span><span class="s">"booksByIsbn"</span><span class="o">,</span> <span class="n">booksByIsbn</span><span class="o">),</span>
                  <span class="n">tup</span><span class="o">(</span><span class="s">"authorsById"</span><span class="o">,</span> <span class="n">authorsById</span><span class="o">));</span>

</code></pre></div></div>

<p>With string maps (both Paguro and Java), we cannot easily access nested data in our catalog:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">catalog</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"booksByIsbn"</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="s">"978-1779501127j"</span><span class="o">)</span>
<span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"authorIds"</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">toUpperCase</span><span class="o">();</span> <span class="c1">// throws an exception</span>
</code></pre></div></div>

<p>The problem is that inside the catalog map, we have values of different types:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">items</code> is a string</li>
  <li><code class="language-plaintext highlighter-rouge">booksByIsbn</code> and <code class="language-plaintext highlighter-rouge">authorByIds</code> are maps</li>
</ul>

<p>In order to be able to access the value associated with <code class="language-plaintext highlighter-rouge">booksByIsbn</code> as a map, we have to do a static cast:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">booksByIsbn</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Map</span><span class="o">&gt;)</span><span class="n">catalog</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"booksByIsbn"</span><span class="o">);</span>
<span class="n">booksByIsbn</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">)</span> <span class="c1">// returns a map</span>
</code></pre></div></div>

<p>And we have to do it multiple times until we get to the value we are interested in:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">((</span><span class="nc">String</span><span class="o">)</span>
 <span class="o">((</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">List</span><span class="o">&gt;)</span>
  <span class="o">((</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Map</span><span class="o">&gt;)</span><span class="n">catalog</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"booksByIsbn"</span><span class="o">))</span>
  <span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">))</span>
 <span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"authorIds"</span><span class="o">)</span>
 <span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>
    <span class="o">.</span><span class="na">toUpperCase</span><span class="o">();</span> <span class="c1">// "ALAN-MOORE"</span>
</code></pre></div></div>

<p>I told you it would be esoteric!</p>

<p>We could alleviate a bit the awkwardness of this approach by adding getter methods in our map for each type of value (similar to Apache Wicket <a href="https://ci.apache.org/projects/wicket/apidocs/9.x/org/apache/wicket/util/value/ValueMap.html">value maps</a>). Then it would look a bit less awkward to access a value in a nested map, as the casting is hidden in the getter:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">catalog</span><span class="o">.</span><span class="na">getAsMap</span><span class="o">(</span><span class="s">"booksByIsbn"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">getAsMap</span><span class="o">(</span><span class="s">"978-1779501127"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">getAsList</span><span class="o">(</span><span class="s">"authorIds"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">getAsString</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">toUpperCase</span><span class="o">();</span> <span class="c1">// "ALAN-MOORE"</span>
</code></pre></div></div>

<p>We could move one step further and implement nested value getters (similar to <a href="https://clojuredocs.org/clojure.core/get-in">get-in</a> in Clojure or <a href="https://lodash.com/docs/4.17.15#get">Lodash get</a> in JavaScript). Then, we could access a nested value in a very concise way:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">catalog</span><span class="o">.</span><span class="na">getInAsString</span><span class="o">(</span><span class="n">vec</span><span class="o">(</span><span class="s">"booksByIsbn"</span><span class="o">,</span>
                          <span class="s">"978-1779501127"</span><span class="o">,</span>
                          <span class="s">"authorIds"</span><span class="o">,</span>
                          <span class="mi">0</span><span class="o">))</span>
    <span class="o">.</span><span class="na">getUpperCase</span><span class="o">();</span> <span class="c1">// "ALAN_MOORE"</span>

</code></pre></div></div>

<p>Let me conclude this article by mentioning <strong>potential benefits</strong> that the dynamic data approach would provide if it is adopted by the Java community.</p>

<h1 id="potential-benefits-of-a-dynamic-data-approach">Potential benefits of a dynamic data approach</h1>
<h2 id="weak-dependency-between-code-and-data">Weak dependency between code and data</h2>

<p>When a piece of code manipulates data represented in a generic way it doesn’t have to include the class that defines the layout of the data. The only information that is required is the name of the fields to be manipulated.</p>

<h2 id="information-path">Information path</h2>

<p>When we represent the whole data of the system in a generic way, each piece of information of the system is accessible via its information bath: A list of keys and indexes that describe the path to the information.</p>

<h2 id="serialization-without-reflection">Serialization without reflection</h2>

<p>When data is represented with hash maps and lists, we can serialize it (e.g. JSON serialization) in a natural way without using reflection or any custom annotation.</p>

<h2 id="manipulate-data-with-general-purpose-functions">Manipulate data with general-purpose functions</h2>

<p>When data is represented in a generic way, we are free to manipulate it with a rich set of general-purpose functions. Let me mention two quick examples:</p>

<h3 id="rename-keys">Rename keys</h3>

<p>Suppose we want to send book information over the wire with a slight modification: the <code class="language-plaintext highlighter-rouge">title</code> field should be renamed to <code class="language-plaintext highlighter-rouge">bookTitle</code>. In a non-dynamic approach to data, we would have to create another class <code class="language-plaintext highlighter-rouge">BookWithBookTitle</code> (it would be hard to come up with a good name!).</p>

<p>In a dynamic data approach, we could write a general purpose function <code class="language-plaintext highlighter-rouge">renameKey()</code>. The cool thing is that <code class="language-plaintext highlighter-rouge">renameKey()</code> wouldn’t be coupled to book data. As a consequence, we could use <code class="language-plaintext highlighter-rouge">renameKey()</code> to rename the field of author data.</p>

<h3 id="merge-data">Merge data</h3>

<p>Suppose, we’d like to enrich book information with data from Amazon and GoodReads. In a non-dynamic approach we’d probably need to create classes or records for <code class="language-plaintext highlighter-rouge">AmazonBookInfo</code>, <code class="language-plaintext highlighter-rouge">GoodReadsBookInfo</code> and <code class="language-plaintext highlighter-rouge">EnrichedBookInfo</code>. Anyway, we’d have to write custom code that merges information from Amazon and GoodReads.</p>

<p>In a dynamic data approach, we could leverage a general purpose <code class="language-plaintext highlighter-rouge">merge</code> function that works on an arbitrary map.</p>

<h1 id="conclusion">Conclusion</h1>

<p>This article suggested that it would be possible to apply the principles of Data-Oriented programming in Java.</p>

<ol>
  <li>Code is <strong>separated</strong> code from data</li>
  <li>Data is <strong>immutable</strong></li>
  <li>Data access is <strong>flexible</strong></li>
</ol>

<p>Principles #1 and #2 feel quite natural to Java developers (especially with the addition of Java records). However, Principle #3 feels much less natural.</p>

<p>I hope that by having illustrated the benefits of a dynamic data approach, I have motivated a bit the Java community. Now it’s time for Java experts to take it from there and discover (<em>hopefully in the near future</em>) what is the best way to embrace <strong>Data-Oriented programming in Java</strong>.</p>

        </div>
        <footer class="post-footer">
            <div class="separator"></div>
            <div class="post-share">
                <span class="post-share-title">Share:</span>
                <a target="_blank"
                    href="https://twitter.com/share?text=Data-Oriented+programming+in+Java&amp;url=https://blog.klipse.techjava/2021/03/05/data-oriented-programming-in-java.html">Twitter</a>
                <a target="_blank"
                    href="https://www.facebook.com/sharer/sharer.php?u=https://blog.klipse.techjava/2021/03/05/data-oriented-programming-in-java.html">Facebook</a>
            </div><!-- .share-post -->
        </footer>
    </article>

    
    <section class="newsletter-box inner">
    <h2 class="newsletter-box-title">Subscribe to Yehonathan Sharvit newsletter</h2>
    <p>Get the latest and greatest from Yehonathan Sharvit delivered straight to your inbox every week.</p>
    <!-- Begin TinyLetter Signup Form -->
    <div id="tinyletter_embed_signup">
      <form class="validate gh-subscribe-form" action="https://tinyletter.com/klipse" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/klipse', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
	      <label for="tlemail" class="screen-reader-text">Email Address</label>
        <input type="email" value="" name="email" class="required email subscribe-email" placeholder="Your email address">
	      <input type="hidden" value="1" name="embed"/>
	      <input class="button" type="submit" value="Subscribe" />
      </form>
    </div>
    <!--End mc_embed_signup-->
</section><!-- .widget -->

    
    <section class="read-next inner">
        <h2 class="read-next-title">Read Next</h2>
        
        <article class="post">
            <header class="post-header">
                <div class="post-meta">
                    <time class="published" datetime="February 26, 2021">February 26, 2021</time>
                </div>
                <h3 class="post-title"><a href="/javascript/2021/02/26/structural-sharing-in-javascript.html">Structural sharing with 7 lines of JavaScript.</a>
                </h3>
                <p class="post-tags">
                    
                    
                    
                    <a href='/tag/dop/'>Dop</a>
                    
                    
                    
                    <a href='/tag/javascript/'>Javascript</a>
                    
                    
                    
                </p>
            </header>
        </article>
        
        
        <article class="post">
            <header class="post-header">
                <div class="post-meta">
                    <time class="published" datetime="March 15, 2021">March 15, 2021</time>
                </div>
                <h3 class="post-title"><a href="/clojure/2021/03/15/rich-hickey-concepts.html">The concepts behind Data-Oriented programming</a></h3>
                <p class="post-tags">
                    
                    
                    
                    <a href='/tag/dop/'>Dop</a>
                    
                    
                    
                    <a href='/tag/clojure/'>Clojure</a>
                    
                    
                    
                    <a href='/tag/theory/'>Theory</a>
                    
                    
                    
                </p>
            </header>
        </article>
        
    </section><!-- .read-next -->

    <!-- Create a sorted array of tags -->
     
    <section class="tagcloud inner">
        <h2 class="tagcloud-title">Tags</h2>
        <div class="tag-links">
            
            <a href='/tags/#algo'>algo</a>
            
            <a href='/tags/#brainfuck'>brainfuck</a>
            
            <a href='/tags/#c%2B%2B'>c++</a>
            
            <a href='/tags/#clojure'>clojure</a>
            
            <a href='/tags/#clojurescript'>clojurescript</a>
            
            <a href='/tags/#compiler'>compiler</a>
            
            <a href='/tags/#dop'>dop</a>
            
            <a href='/tags/#golang'>golang</a>
            
            <a href='/tags/#graph'>graph</a>
            
            <a href='/tags/#html'>html</a>
            
            <a href='/tags/#java'>java</a>
            
            <a href='/tags/#javascript'>javascript</a>
            
            <a href='/tags/#kids'>kids</a>
            
            <a href='/tags/#klipse'>klipse</a>
            
            <a href='/tags/#lambda-calculus'>lambda-calculus</a>
            
            <a href='/tags/#lambdacalculus'>lambdacalculus</a>
            
            <a href='/tags/#lisp'>lisp</a>
            
            <a href='/tags/#lua'>lua</a>
            
            <a href='/tags/#maths'>maths</a>
            
            <a href='/tags/#oblivion'>oblivion</a>
            
            <a href='/tags/#ocaml'>ocaml</a>
            
            <a href='/tags/#php'>php</a>
            
            <a href='/tags/#prolog'>prolog</a>
            
            <a href='/tags/#python'>python</a>
            
            <a href='/tags/#react'>react</a>
            
            <a href='/tags/#reagent'>reagent</a>
            
            <a href='/tags/#reasonml'>reasonml</a>
            
            <a href='/tags/#ruby'>ruby</a>
            
            <a href='/tags/#scheme'>scheme</a>
            
            <a href='/tags/#sql'>sql</a>
            
            <a href='/tags/#theory'>theory</a>
            
            <a href='/tags/#visualization'>visualization</a>
            
        </div><!-- .tag-links -->
    </section><!-- .tagcloud -->
</main><!-- .site-main -->


<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css">
<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/prolog.css">

<script>
    window.klipse_settings = {
        codemirror_options_in: {
            lineWrapping: true,
            autoCloseBrackets: true
        },
        codemirror_options_out: {
            lineWrapping: true
        },
        beautify_strings: true,

        selector: '.language-klipse, .language-eval-clj',
        selector_eval_js: '.language-klipse-eval-js, .language-eval-js, [data-lang=klipse-javascript]',
        selector_jsx: '.language-klipse-jsx',
        selector_prolog_rules: '.language-prolog-rules',
        selector_prolog_query: '.language-prolog-query',
        selector_render_jsx: '.language-render-jsx',
        selector_es2017: '.language-es2017',
        selector_brainfuck: '.language-brainfuck',
        selector_transpile_jsx: '.language-transpile-jsx',
        selector_eval_php: '.language-klipse-eval-php',
        selector_eval_markdown: '.language-klipse-markdown',
        selector_eval_lambdaway: '.language-klipse-lambdaway',
        selector_eval_python_client: '.language-klipse-python, .language-eval-python',
        selector_eval_html: '.language-klipse-html',
        selector_sql: '.language-klipse-sql',
        selector_eval_ruby: '.language-klipse-eval-ruby, .language-eval-ruby',
        selector_eval_scheme: '.language-klipse-scheme, .language-eval-scheme',
        selector_eval_clisp: '.language-klipse-clisp',    
        selector_eval_cpp: '.language-klipse-cpp',
        selector_google_charts: '.language-google-chart',
        selector_plot: '.language-plot',
        selector_oblivion: '.language-oblivion',
        selector_lua: '.language-klipse-lua',
        selector_js: '.language-klipse-js',
        selector_eval_ocaml: '.language-klipse-ocaml',
        selector_transpile_ocaml: '.language-transpile-ocaml',
        selector_transpile_reason_3: '.language-transpile-reason',
        selector_transpile_reason_3_to_ocaml: '.language-transpile-reason-to-ocaml',
        selector_eval_reason_3: '.language-klipse-reason',
        selector_eval_reason_3_with_types: '.language-klipse-reason-types',
        selector_eval_ocaml_with_types: '.language-klipse-ocaml-types',
        selector_ocaml_to_reason: '.language-ocaml-to-reason',
        selector_reagent: '.language-reagent',
        selector_golang: '.language-klipse-go',
    };










    

    


</script>



<script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js?v=8.0.1"></script>





                

                
                <footer id="colophon" class="site-footer">
    <p class="site-info inner">
        <a href="#">Yehonathan Sharvit</a> &copy; 2022.
    </p>
    <a id="back-to-top" class="back-to-top" href="#page">
        <span class="icon-arrow-up" aria-hidden="true"></span>
        <span class="screen-reader-text">Back to top</span>
    </a>
</footer><!-- .site-footer -->

            </div><!-- .inner-wide -->
        </div><!-- .site-content -->
    </div><!-- .site -->

    
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-75651930-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-75651930-1', { 'anonymize_ip': true });
  </script>

    <!-- Javascript Assets -->
    <script src="/assets/js/jquery-3.3.1.min.js"></script>
    <script src="/assets/js/plugins.js"></script>
    <script src="/assets/js/custom.js"></script>

</body>

</html>
